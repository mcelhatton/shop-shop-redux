{"ast":null,"code":"var _jsxFileName = \"/Users/mcelhatton/Dropbox (Mobile Dealer Data)/Mac/Documents/Repos/shop-shop-redux/client/src/components/Board/List.js\";\nimport \"../../styles/List.css\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Droppable, Draggable } from \"react-beautiful-dnd\";\nimport Card from \"./Card\";\nimport CardEditor from \"./CardEditor\";\nimport ListEditor from \"./ListEditor\";\nimport shortid from \"shortid\";\n\nclass List extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      editingTitle: false,\n      title: this.props.list.title,\n      photo: this.props.list.photo,\n      customer: this.props.list.customer,\n      notes: this.props.list.notes,\n      addingCard: false\n    };\n\n    this.toggleAddingCard = () => this.setState({\n      addingCard: !this.state.addingCard\n    });\n\n    this.addCard = async (cardPetName, cardText) => {\n      const {\n        listId,\n        dispatch\n      } = this.props;\n      this.toggleAddingCard();\n      const cardId = shortid.generate();\n      dispatch({\n        type: \"ADD_CARD\",\n        payload: {\n          cardPetName,\n          cardText,\n          cardId,\n          listId\n        }\n      });\n    };\n\n    this.toggleEditingTitle = () => this.setState({\n      editingTitle: !this.state.editingTitle\n    });\n\n    this.handleChangeTitle = e => this.setState({\n      title: e.target.value\n    });\n\n    this.editListTitle = async () => {\n      const {\n        listId,\n        dispatch\n      } = this.props;\n      const {\n        title\n      } = this.state;\n      this.toggleEditingTitle();\n      dispatch({\n        type: \"CHANGE_LIST_TITLE\",\n        payload: {\n          listId,\n          listTitle: title\n        }\n      });\n    };\n\n    this.deleteList = async () => {\n      const {\n        listId,\n        list,\n        dispatch\n      } = this.props;\n\n      if (window.confirm(\"Are you sure to delete this list?\")) {\n        dispatch({\n          type: \"DELETE_LIST\",\n          payload: {\n            listId,\n            cards: list.cards\n          }\n        });\n      }\n    };\n  }\n\n  render() {\n    const {\n      list,\n      index\n    } = this.props;\n    const {\n      editingTitle,\n      addingCard,\n      title\n    } = this.state;\n    return /*#__PURE__*/React.createElement(Draggable, {\n      draggableId: list._id,\n      index: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 7\n      }\n    }, (provided, snapshot) => /*#__PURE__*/React.createElement(\"div\", Object.assign({\n      ref: provided.innerRef\n    }, provided.draggableProps, provided.dragHandleProps, {\n      className: \"List\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 11\n      }\n    }), editingTitle ? /*#__PURE__*/React.createElement(ListEditor, {\n      list: list,\n      title: title,\n      handleChangeTitle: this.handleChangeTitle,\n      saveList: this.editListTitle,\n      onClickOutside: this.editListTitle,\n      deleteList: this.deleteList,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 15\n      }\n    }) : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"List-Title\",\n      onClick: this.toggleEditingTitle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 15\n      }\n    }, list.title), /*#__PURE__*/React.createElement(Droppable, {\n      droppableId: list._id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 13\n      }\n    }, (provided, _snapshot) => /*#__PURE__*/React.createElement(\"div\", {\n      ref: provided.innerRef,\n      className: \"Lists-Cards\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }\n    }, list.cards && list.cards.map((cardId, index) => /*#__PURE__*/React.createElement(Card, {\n      key: cardId,\n      cardId: cardId,\n      index: index,\n      listId: list._id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 23\n      }\n    })), provided.placeholder, addingCard ? /*#__PURE__*/React.createElement(CardEditor, {\n      onSave: this.addCard,\n      onCancel: this.toggleAddingCard,\n      adding: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 21\n      }\n    }) : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"Toggle-Add-Card\",\n      onClick: this.toggleAddingCard,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"ion-icon\", {\n      name: \"add\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 23\n      }\n    }), \" Add a card\")))));\n  }\n\n}\n\nconst mapStateToProps = (state, ownProps) => ({\n  list: state.listsById[ownProps.listId]\n});\n\nexport default connect(mapStateToProps)(List);","map":{"version":3,"names":["React","Component","connect","Droppable","Draggable","Card","CardEditor","ListEditor","shortid","List","state","editingTitle","title","props","list","photo","customer","notes","addingCard","toggleAddingCard","setState","addCard","cardPetName","cardText","listId","dispatch","cardId","generate","type","payload","toggleEditingTitle","handleChangeTitle","e","target","value","editListTitle","listTitle","deleteList","window","confirm","cards","render","index","_id","provided","snapshot","innerRef","draggableProps","dragHandleProps","_snapshot","map","placeholder","mapStateToProps","ownProps","listsById"],"sources":["/Users/mcelhatton/Dropbox (Mobile Dealer Data)/Mac/Documents/Repos/shop-shop-redux/client/src/components/Board/List.js"],"sourcesContent":["import \"../../styles/List.css\";\n\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Droppable, Draggable } from \"react-beautiful-dnd\";\n\nimport Card from \"./Card\";\nimport CardEditor from \"./CardEditor\";\nimport ListEditor from \"./ListEditor\";\n\nimport shortid from \"shortid\";\n\nclass List extends Component {\n  state = {\n    editingTitle: false,\n    title: this.props.list.title,\n    photo: this.props.list.photo,\n    customer: this.props.list.customer,\n    notes: this.props.list.notes,\n    addingCard: false,\n  };\n\n  toggleAddingCard = () =>\n    this.setState({ addingCard: !this.state.addingCard });\n\n  addCard = async (cardPetName, cardText) => {\n    const { listId, dispatch } = this.props;\n\n    this.toggleAddingCard();\n\n    const cardId = shortid.generate();\n\n    dispatch({\n      type: \"ADD_CARD\",\n      payload: { cardPetName, cardText, cardId, listId },\n    });\n  };\n\n  toggleEditingTitle = () =>\n    this.setState({ editingTitle: !this.state.editingTitle });\n\n  handleChangeTitle = (e) => this.setState({ title: e.target.value });\n\n  editListTitle = async () => {\n    const { listId, dispatch } = this.props;\n    const { title } = this.state;\n\n    this.toggleEditingTitle();\n\n    dispatch({\n      type: \"CHANGE_LIST_TITLE\",\n      payload: { listId, listTitle: title },\n    });\n  };\n\n  deleteList = async () => {\n    const { listId, list, dispatch } = this.props;\n\n    if (window.confirm(\"Are you sure to delete this list?\")) {\n      dispatch({\n        type: \"DELETE_LIST\",\n        payload: { listId, cards: list.cards },\n      });\n    }\n  };\n\n  render() {\n    const { list, index } = this.props;\n    const { editingTitle, addingCard, title } = this.state;\n\n    return (\n      <Draggable draggableId={list._id} index={index}>\n        {(provided, snapshot) => (\n          <div\n            ref={provided.innerRef}\n            {...provided.draggableProps}\n            {...provided.dragHandleProps}\n            className=\"List\"\n          >\n            {editingTitle ? (\n              <ListEditor\n                list={list}\n                title={title}\n                handleChangeTitle={this.handleChangeTitle}\n                saveList={this.editListTitle}\n                onClickOutside={this.editListTitle}\n                deleteList={this.deleteList}\n              />\n            ) : (\n              <div className=\"List-Title\" onClick={this.toggleEditingTitle}>\n                {list.title}\n              </div>\n            )}\n\n            <Droppable droppableId={list._id}>\n              {(provided, _snapshot) => (\n                <div ref={provided.innerRef} className=\"Lists-Cards\">\n                  {list.cards &&\n                    list.cards.map((cardId, index) => (\n                      <Card\n                        key={cardId}\n                        cardId={cardId}\n                        index={index}\n                        listId={list._id}\n                      />\n                    ))}\n\n                  {provided.placeholder}\n\n                  {addingCard ? (\n                    <CardEditor\n                      onSave={this.addCard}\n                      onCancel={this.toggleAddingCard}\n                      adding\n                    />\n                  ) : (\n                    <div\n                      className=\"Toggle-Add-Card\"\n                      onClick={this.toggleAddingCard}\n                    >\n                      <ion-icon name=\"add\" /> Add a card\n                    </div>\n                  )}\n                </div>\n              )}\n            </Droppable>\n          </div>\n        )}\n      </Draggable>\n    );\n  }\n}\n\nconst mapStateToProps = (state, ownProps) => ({\n  list: state.listsById[ownProps.listId]\n});\n\nexport default connect(mapStateToProps)(List);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}